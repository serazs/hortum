-- SETTINGS
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")

local lp = Players.LocalPlayer
local flingActive = true -- başlangıç açık

local FORCE = 15000 -- güç (arttırabilirsin)

-- CHARACTER
local function setupChar(char)
    local root = char:WaitForChild("HumanoidRootPart")

    local function flingCharacter(otherChar)
        local hrp = otherChar:FindFirstChild("HumanoidRootPart")
        local hum = otherChar:FindFirstChildOfClass("Humanoid")

        if hrp and hum and hum.Health > 0 then
            local dir = (hrp.Position - root.Position).Unit
            local mass = hrp.AssemblyMass

            -- aşırı güçlü impulse
            hrp:ApplyImpulse((dir * FORCE + Vector3.new(0, FORCE/2, 0)) * mass)

            -- ekstra hız garantisi
            hrp.AssemblyLinearVelocity =
                dir * FORCE/5 + Vector3.new(0, FORCE/6, 0)
        end
    end

    root.Touched:Connect(function(hit)
        if not flingActive then return end

        local model = hit:FindFirstAncestorOfClass("Model")
        if model and model ~= char then
            if Players:GetPlayerFromCharacter(model) then
                flingCharacter(model)
            end
        end
    end)
end

-- CHARACTER LOAD
if lp.Character then
    setupChar(lp.Character)
end

lp.CharacterAdded:Connect(setupChar)

-- TOGGLE KEY (F)
UserInputService.InputBegan:Connect(function(input, gp)
    if gp then return end

    if input.KeyCode == Enum.KeyCode.F then
        flingActive = not flingActive
        print("FLING:", flingActive and "AÇIK" or "KAPALI")
    end
end)

print("Script Loaded | F ile aç/kapat")
